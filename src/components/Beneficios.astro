<article class="beneficiosIndex">
  <div class="container">
    <div class="row">
      <h2 class="text-center animado animacionS">Beneficios</h2>
      <article class="beneficiosMobile col-12">
        <section class="cardUno col-12 col-sm-7 animado animacionS">
          <div class="imgTop"></div>
          <div class="bodyCard">
            <h5 class="text-center">Instalaciones</h5>
            <p class="text-justify">
              Penthouse Studio ha sido diseñado con un estilo elegante y
              moderno...
            </p>
          </div>
        </section>
        <section class="cardUno col-12 col-sm-7 animado animacionS">
          <div class="imgTop"></div>
          <div class="bodyCard">
            <h5 class="text-center">Acompañamiento</h5>
            <p class="text-justify">
              La compañía y el asesoramiento van a estar presentes en todo
              momento...
            </p>
          </div>
        </section>
        <section class="cardUno col-12 col-sm-7 animado animacionS">
          <div class="imgTop"></div>
          <div class="bodyCard">
            <h5 class="text-center">Proyecto de Vida</h5>
            <p class="text-justify">
              En Penthouse Studio también nos interesa que usted logre sus
              objetivos personales...
            </p>
          </div>
        </section>
      </article>
      <article class="beneficiosDesktop col-12 col-lg-11">
        <div class="contenedorBeneficios">
          <div class="beneficio activo animado">
            <div
              class="imgBeneficio"
              id="imgBeneficio"
              style="background-image: url(/images/beneficios/nosotros.jpg);"
            >
              <div class="slideImg1"></div>
              <div class="slideImg2"></div>
              <div class="slideImg3"></div>
              <div class="slideImg4"></div>
            </div>
            <div class="txtBeneficio" id="tituloBeneficio">
              <h3>Acompañamiento</h3>

              <p class="text-justify">
                La compañía y el asesoramiento van a estar presentes en todo
                momento, pues es de grán importancia para nosotros que usted
                tenga éxito no solamente como modelo webcam, si no también con
                su proyecto de vida
              </p>
              <h4>Detalles</h4>
              <p>
                El grupo de trabajo por el que va a estar rodeada esta diseñado
                para su constante crecimiento como modelo webcam, siempre que
                usted este comprometida
              </p>
              <div class="slideTxt1"></div>
              <div class="slideTxt2"></div>
              <div class="slideTxt3"></div>
              <div class="slideTxt4"></div>
            </div>
            <div class="nextBeneficios">
              <a id="btnSiguienteBeneficio">
                <span>Siguiente</span>
                <img src="/images/icon/iconNext.svg" alt="icon next" />
              </a>
            </div>
          </div>
        </div>
      </article>
    </div>
  </div>
</article>

<script>
  // 1. LOS DATOS: Un único array de objetos.
  const beneficios = [
    {
      imagen: "nosotros.jpg",
      titulo: "Acompañamiento",
      subtitulo: "Detalles",
      texto1:
        "La compañía y el asesoramiento van a estar presentes en todo momento, pues es de grán importancia para nosotros que usted tenga éxito no solamente como modelo webcam, si no también con su proyecto de vida",
      texto2:
        "El grupo de trabajo por el que va a estar rodeada esta diseñado para su constante crecimiento como modelo webcam, siempre que usted este comprometida",
    },
    {
      imagen: "nosotros3.jpg",
      titulo: "Proyecto de Vida",
      subtitulo: "Detalles",

      texto1:
        "En Penthouse Studio también nos interesa que usted logre sus objetivos personales, es por lo anterior que disponemos del area de recursos humanos quienes se encargarán de brindarle el apoyo necesario en cada uno de sus propositos",
      texto2:
        "Nosotros le brindamos nuestra ayuda siempre y cuando usted como modelo se comprometa con nosotros a brindarnos su dedicación y responsabilidad",
    },
    {
      imagen: "nosotros2.jpg",
      titulo: "Instalaciones",
      subtitulo: "Detalles",
      texto1:
        "Penthouse Studio ha sido diseñado con un estilo elegante y moderno, con la finalidad de crear una atmosfera de trabajo comoda y agradable en la que usted pueda desempeñarse de la mejor manera, pues tiene a su disposición las áreas de entretenimiento, espacios en los que puede compartir con sus compañeros",

      texto2:
        "Disponemos de amplios cuartos creados para su comodidad; con diferentes temáticas para que usted pueda darle variedad a sus transmisiones",
    },
  ];
  // 2. EL ESTADO: Una variable que nos dice qué beneficio mostrar.
  let indiceActual = 0;
  const duracionAnimacion = 900;

  // 3. ELEMENTOS DEL DOM
  const imgBeneficioEl = document.getElementById("imgBeneficio");
  const tituloBeneficioEl = document.getElementById("tituloBeneficio");
  const btnSiguiente = document.getElementById("btnSiguienteBeneficio");
  const beneficioActivo = document.querySelector(".beneficio.activo");
  // 4. LÓGICA DE RENDERIZADO: Una función que actualiza el HTML.
  function renderBeneficio(index: number) {
    const beneficio = beneficios[index];
    // Obtiene el objeto del beneficio actual

    if (!beneficio || !imgBeneficioEl || !tituloBeneficioEl) return;
    // Salida segura

    imgBeneficioEl.style.backgroundImage = `url(/images/beneficios/${beneficio.imagen})`;
    const h3 = tituloBeneficioEl.querySelector("h3");
    const h4 = tituloBeneficioEl.querySelector("h4");
    const paragraphs = tituloBeneficioEl.querySelectorAll("p");
    
    if (h3) h3.textContent = beneficio.titulo;
    if (h4) h4.textContent = beneficio.subtitulo;
    if (paragraphs[0]) paragraphs[0].textContent = beneficio.texto1;
    if (paragraphs[1]) paragraphs[1].textContent = beneficio.texto2;
  }

  // 5. LÓGICA DE EVENTOS: La función que se ejecuta al hacer click.
  function manejarClickSiguiente() {
    if (!beneficioActivo) return;
    // Inicia la animación de salida
    beneficioActivo.classList.add("outBeneficio");
    setTimeout(() => {
      // Actualiza el índice, volviendo al inicio si llega al final
      indiceActual = (indiceActual + 1) % beneficios.length;

      // Llama a la función de renderizado con el nuevo índice
      renderBeneficio(indiceActual);

      // Quita la clase para la animación de entrada
      beneficioActivo.classList.remove("outBeneficio");
    }, duracionAnimacion);
  }

  // 6. INICIALIZACIÓN
  if (btnSiguiente) {
    btnSiguiente.addEventListener("click", manejarClickSiguiente);
  }
  // Renderiza el primer beneficio al cargar el script
  renderBeneficio(indiceActual);
</script>

<style>
  /* Aquí solo transferimos las reglas de animación que se perdieron en el proceso */
  @keyframes animacionNext {
    0% {
      -webkit-transform: translateX(0);
      transform: translateX(0);
    }
    50% {
      -webkit-transform: translateX(5px);
      transform: translateX(5px);
    }
    to {
      -webkit-transform: translateX(0);
      transform: translateX(0);
    }
  }

  .beneficiosIndex {
    border-top: 2px solid #47254f;
    padding-top: 1rem;
    padding-bottom: 1rem;
    background: #1c2033;
  }
  .beneficiosIndex h2 {
    width: 100%;
    font-weight: 300;
    font-variant: small-caps;
    font-size: 2.3rem;
    margin-bottom: 0;
    background-image: linear-gradient(
      to right,
      #cb9f3d,
      #fffc9e,
      #c9ae2d,
      #e7d074,
      #d5b150,
      #dfc793,
      #c8953e
    );
    background-clip: text;
    color: transparent;
    position: relative;
  }
  .beneficiosIndex h2:before {
    content: "";
    position: absolute;
    bottom: 0;
    left: 10%;
    width: 80%;
    height: 2px;
    opacity: 0;
    transition: opacity 0.6s 0.3s ease;
    background-image: linear-gradient(
      to right,
      #cb9f3d,
      #fffc9e,
      #c9ae2d,
      #e7d074,
      #d5b150,
      #dfc793,
      #c8953e
    );
  }
  .beneficiosIndex h2.animacionS:before {
    opacity: 1;
  }
  .beneficiosIndex .beneficiosMobile .cardUno {
    margin: 1.5rem auto;
    max-width: 290px;
    padding: 0;
    background: #47254f;
    border-radius: 20px;
    box-shadow: 4px 4px 2px 0 rgba(0, 0, 0, 0.5);
  }
  .beneficiosIndex .beneficiosMobile .cardUno .imgTop {
    width: 100%;
    height: 300px;
    background: #47254f;
    border-radius: 20px;
    position: relative;
    overflow: hidden;
  }
  .beneficiosIndex .beneficiosMobile .cardUno .imgTop:after,
  .beneficiosIndex .beneficiosMobile .cardUno .imgTop:before {
    content: "";
    position: absolute;
    width: 400px;
    height: 450px;
    transform: rotate(44deg);
    transition: all 0.5s ease;
  }
  .beneficiosIndex .beneficiosMobile .cardUno .imgTop:before {
    bottom: 65px;
    left: -197px;
    background: rgba(255, 255, 255, 0.1);
  }
  .beneficiosIndex .beneficiosMobile .cardUno .imgTop:after {
    top: 65px;
    right: -197px;
    background: rgba(255, 255, 255, 0.3);
  }
  .beneficiosIndex .beneficiosMobile .cardUno .bodyCard {
    padding: 0.5rem 1rem;
  }
  .beneficiosIndex .beneficiosMobile .cardUno h5,
  .beneficiosIndex .beneficiosMobile .cardUno p {
    font-weight: 100;
  }
  .beneficiosIndex .beneficiosMobile .cardUno p {
    margin-bottom: 0;
  }
  .beneficiosIndex .beneficiosMobile .cardUno:first-of-type,
  .beneficiosIndex .beneficiosMobile .cardUno:nth-of-type(2),
  .beneficiosIndex .beneficiosMobile .cardUno:nth-of-type(3) {
    opacity: 0;
    transition: opacity 0.6s 0.3s ease;
  }
  .beneficiosIndex .beneficiosMobile .cardUno:first-of-type.animacionS,
  .beneficiosIndex .beneficiosMobile .cardUno:nth-of-type(2).animacionS,
  .beneficiosIndex .beneficiosMobile .cardUno:nth-of-type(3).animacionS {
    opacity: 1;
  }
  .beneficiosIndex .beneficiosMobile .cardUno:first-of-type .imgTop {
    background-image: url(/images/beneficios/imgBeneficios01.jpg);
    background-position: center top;
    background-size: cover;
    background-repeat: no-repeat;
  }
  .beneficiosIndex .beneficiosMobile .cardUno:nth-of-type(2) .imgTop {
    background-image: url(/images/beneficios/imgBeneficios02.jpg);
    background-position: center top;
    background-size: cover;
    background-repeat: no-repeat;
  }
  .beneficiosIndex .beneficiosMobile .cardUno:nth-of-type(3) .imgTop {
    background-image: url(/images/beneficios/imgBeneficios03.jpg);
    background-position: center top;
    background-size: cover;
    background-repeat: no-repeat;
  }
  .beneficiosIndex .beneficiosDesktop {
    display: none;
  }
  @media (min-width: 576px) {
    .beneficiosIndex .beneficiosMobile .cardUno {
      max-width: 297.5px;
    }
    .beneficiosIndex .beneficiosMobile .cardUno .imgTop:before {
      left: -193px;
    }
    .beneficiosIndex .beneficiosMobile .cardUno .imgTop:after {
      right: -193px;
    }
    .beneficiosIndex h2 {
      margin-bottom: 1.5rem;
    }
  }
  @media (min-width: 768px) {
    .beneficiosIndex h2 {
      font-size: 2.8rem;
      margin-bottom: 1.5rem;
    }
    .beneficiosIndex h2:before {
      width: 60%;
      left: 20%;
    }
    .beneficiosIndex .beneficiosMobile {
      display: none;
    }
    .beneficiosIndex .beneficiosDesktop {
      display: block;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio {
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      margin-top: 1rem;
      margin-bottom: 1rem;
      position: relative;
      opacity: 0;
      -webkit-transition: opacity 0.6s 0.6s ease;
      -o-transition: opacity 0.6s 0.6s ease;
      transition: opacity 0.6s 0.6s ease;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio.animacionS {
      opacity: 1;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio {
      width: 345px;
      height: 345px;
      background-image: url(/images/beneficios/imgBeneficios01.jpg);
      background-repeat: no-repeat;
      background-position: center top;
      background-size: cover;
      top: -10px;
      box-shadow: 4px 4px 2px 0 rgba(0, 0, 0, 0.5);
      position: relative;
      z-index: 1;
      overflow: hidden;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg1,
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg2,
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg3,
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg4 {
      position: absolute;
      left: 0;
      width: 0;
      height: 87px;
      background-color: #1c2033;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg1 {
      top: 0;
      height: 87px;
      transition: all 0.5s ease;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg2 {
      top: 86px;
      transition: all 0.5s 0.2s ease;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg3 {
      bottom: 86px;
      transition: all 0.5s 0.3s ease;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg4 {
      bottom: 0;
      transition: all 0.5s 0.4s ease;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio {
      width: 345px;
      height: 345px;
      padding-left: 1rem;
      padding-top: 3.15rem;
      padding-bottom: 3.4rem;
      position: relative;
      overflow: hidden;
      background: linear-gradient(to right, rgb(20 23 36), rgb(28 32 51));
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt1,
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt2,
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt3,
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt4 {
      position: absolute;
      right: 0;
      width: 0;
      height: 86px;
      background-color: #1c2033;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt1 {
      top: 0;
      transition: all 0.5s ease;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt2 {
      top: 86px;
      transition: all 0.5s 0.2s ease;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt3 {
      bottom: 86px;
      height: 87px;
      transition: all 0.5s 0.3s ease;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt4 {
      bottom: 0;
      transition: all 0.5s 0.4s ease;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio h3 {
      font-weight: 300;
      font-size: 1.6rem;
      margin-bottom: 0;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio h4 {
      font-weight: 300;
      font-size: 1.4rem;
      margin-bottom: 0;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio p {
      font-weight: 100;
      font-size: 0.9rem;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .nextBeneficios {
      display: flex;
      position: absolute;
      width: 100%;
      bottom: 0;
      right: 0;
      padding-right: 1.2rem;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .nextBeneficios a {
      z-index: 1;
      margin-left: auto;
      cursor: pointer;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .nextBeneficios a span {
      font-weight: 300;
      text-transform: uppercase;
      letter-spacing: 3px;
      margin-right: 0.5rem;
      opacity: 0;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .nextBeneficios a img {
      width: 30px;
      transition: all 0.5s ease;
      animation: none;
      /* animation: animacionNext 2s ease-in-out infinite; */
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .nextBeneficios:active a img {
      transform: translateX(10px);
    }

    .beneficiosIndex .beneficiosDesktop .beneficio.outBeneficio .imgBeneficio .slideImg1,
    .beneficiosIndex .beneficiosDesktop .beneficio.outBeneficio .imgBeneficio .slideImg2,
    .beneficiosIndex .beneficiosDesktop .beneficio.outBeneficio .imgBeneficio .slideImg3,
    .beneficiosIndex .beneficiosDesktop .beneficio.outBeneficio .imgBeneficio .slideImg4 {
      width: 100%;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio.outBeneficio .txtBeneficio .slideTxt1,
    .beneficiosIndex .beneficiosDesktop .beneficio.outBeneficio .txtBeneficio .slideTxt2,
    .beneficiosIndex .beneficiosDesktop .beneficio.outBeneficio .txtBeneficio .slideTxt3,
    .beneficiosIndex .beneficiosDesktop .beneficio.outBeneficio .txtBeneficio .slideTxt4 {
      width: 100%;
    }
  }
  @media (min-width: 992px) {
    .beneficiosIndex h2 {
      font-size: 3rem;
      font-weight: 400;
    }
    .beneficiosIndex .beneficiosDesktop {
      margin: 0 auto;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .nextBeneficios a span {
      opacity: 1;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio {
      width: 416px;
      height: 416px;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg1,
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg2,
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg3,
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg4 {
      height: 104px;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg2 {
      top: 104px;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg3 {
      bottom: 104px;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio {
      padding-top: 5.2rem;
      padding-bottom: 4.6rem;
      width: 416px;
      height: 416px;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt1,
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt2,
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt3,
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt4 {
      height: 104px;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt2 {
      top: 104px;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt3 {
      bottom: 104px;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio h3 {
      font-size: 1.7rem;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio p {
      font-size: 1rem;
    }
  }
  @media (min-width: 1200px) {
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio {
      width: 508px;
      height: 508px;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg1,
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg2,
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg3,
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg4 {
      height: 128px;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg2 {
      top: 127px;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg3 {
      bottom: 127px;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio {
      padding-top: 9rem;
      padding-bottom: 8.5rem;
      padding-left: 2rem;
      width: 508px;
      height: 508px;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt1,
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt2,
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt3,
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt4 {
      height: 128px;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt2 {
      top: 127px;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt3 {
      bottom: 127px;
    }
  }
  @media (min-width: 1600px) {
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg1,
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg2,
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg3,
    .beneficiosIndex .beneficiosDesktop .beneficio .imgBeneficio .slideImg4 {
      background-color: #191d2e;
    }
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt1,
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt2,
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt3,
    .beneficiosIndex .beneficiosDesktop .beneficio .txtBeneficio .slideTxt4 {
      background-color: #0f111d;
    }
  }
</style>
